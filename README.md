# Network Simulation with NS3

This project simulates a network with 4 routers and 8 servers using NS3 (Network Simulator 3). It utilizes a fixed routing table and packet transfer simulation for 60 seconds, with an error model for packet drop simulation (0.5%). The simulation also includes a visualization of the network topology using NetAnim.

## Features:
- **Topology**: 4 routers and 8 servers connected with point-to-point links.
- **Packet Transfer Simulation**: Packets are sent from each router to servers, with routing handled using pre-configured routes.
- **Error Simulation**: A 0.5% packet drop rate is added to the links between routers and servers.
- **Routing Tables**: Static routing tables with fixed destinations for packet transfer every 4 seconds.
- **NetAnim Integration**: Visualize the topology and packet transfer using NetAnim.

## Prerequisites

Before running the simulation, you need to install the following prerequisites:

### 1. **NS3**: 
   #### Install NS3 on Linux (Ubuntu):
   - Check for any additional dependencies
   - Enable Pcap if needed
   - Install required dependencies:
     ```bash
     sudo apt-get update
     sudo apt-get install build-essential python3 python3-dev python3-setuptools
     sudo apt-get install qt5-qmake qtbase5-dev qtchooser qtbase5-dev-tools qtbase5-dev-tools libqt5webkit5-dev
     sudo apt-get install libxml2-dev libsqlite3-dev libssl-dev
     ```

   - Get NS3 using wget:
     ```bash
     $ wget https://www.nsnam.org/releases/ns-allinone-3.42.tar.bz2
     ```
     ```bash
     $ tar xfj ns-allinone-3.42.tar.bz2
     ```
     ```bash
     ./build.py --enable-examples --enable-tests
     ```
     
   - To be used ns3 cmds:
     ```bash
     ./ns3 configure
     ```
     ```bash
     ./ns3 build
     ```
     ```bash
     ./ns3 clean
     ```

Once you have installed the necessary dependencies, you can run the simulation following these steps:

Place the code file in the .../scratch folder within the ns3 directory

Use the build.py code segment in the main .../ns3 directory build:

Open .../ns3 folder in cmd terminal followed by 


1. **Clean Previous Builds**: 
   ```bash
   ./ns3 clean
   ```

2. **Build the Simulation**:
   ```bash
   ./ns3 build
   ```

3. **Run the Simulation**:
   ```bash
   ./ns3 --run scratch/<filename>
   ```

4. **View the Results**:
   - The simulation results will be available in the terminal and saved as `.pcap` files (if enabled).
   - The network topology animation can be viewed with **NetAnim** by opening the `yes4.xml` file. Change name to anything you desire.

## Running the Simulation in NetAnim using the yes4.xml produced by simulation code (Change it as per need) 

- Locate the netanim directory within the ns3-allinone package since it is included

```bash
cd netanim-3.109
```
```bash
qmake NetAnim.pro
```
```bash
make
```

Run the NetAnim application from the netanim directory

```bash
./NetAnim
```

## Simulation Parameters

- **Topology**: 4 Routers and 8 Servers.
- **Packet Size**: 256 bytes.
- **Error Rate**: 0.5% (simulated packet drops).
- **Duration**: 60 seconds for packet transfer simulation.
- **Routing Table**: Static, with pre-defined destinations.

## Files Included:
- **network_simulation.cc**: The main code that defines the network topology, routing, and packet transfer simulation.
- **yes4.xml**: Generated by NetAnim to visualize the network.
- **modified-topology.pcap**: Packet capture file containing network traffic during the simulation. (Depends on whether pcap enabled or not)


## UPDATE:

Raw and volatile code segment for the dependencies for the Prerequisite installation 

```bash
sudo apt-get install gcc g++ python python-dev mercurial bzr gdb valgrind gsl-bin libgsl0-dev libgsl23 flex bison tcpdump sqlite sqlite3 libsqlite3-dev libxml2 libxml2-dev libgtk2.0-0 libgtk2.0-dev uncrustify doxygen graphviz imagemagick texlive texlive-latex-extra texlive-generic-extra texlive-generic-recommended texinfo dia texlive texlive-latex-extra texlive-extra-utils texlive-generic-recommended texi2html python-pygraphviz python-kiwi python-pygccxml
```

Use with caution since the packages are subject to change and might have been updated. Check : "https://www.nsnam.org/wiki/Installation" for additional information.

